<section class="text-white text-center items-center bg-primary-light p-5 border border-y-black border-separate mb-1">
    <div class="place-items-start text-end align-top">
        <button mat-raised-button (click)="closeDialog()" [disabled]="!selected_patient">Guardar</button>
    </div>
    <div class="hover:cursor-pointer" (click)="toggle = !toggle">
        <h1>{{ selected_patient && (selectPatient.name && selected_patient.lastname) ? 
            selected_patient.name + ' ' + selected_patient.lastname 
            : 'Ninguno' }} - Seleccionado</h1>
            <h3>{{selected_patient && (selected_patient.gender && selected_patient.bloodtype) ? 
                selected_patient.gender + '-' + selected_patient.bloodtype : 
                'Genero - Grupo Sanguíneo'
            }}</h3>
    </div>
</section>

<section [className]=" toggle ? '' : 'hidden' ">
    <div class="grow overflow-hidden px-8 py-6 ">
        <select-person
        [dataSource$]="requestPatients.bind(this)"
        [frontendSearch]="false"
        [withInitialData]="false"
        [afterSelectLoading]="isSaving"
        searchPlaceholder="Buscar paciente por CURP"
        (onSelect)="selectPatient($event)"
        (onCancel)="toggle = !toggle"
        ></select-person>
    </div>
</section>

<main >
    <h1 class="w-full h-full bg-primary-light text-center items-start p-4 text-white border border-y-black">{{ !note_id ? 'Agregar' : 'Editar'}} Nota</h1>
    <div class="justify-between w-full h-full p-2">
        <form class="flex flex-row w-full" >
            <div style="width:50%;">
                <mat-form-field class="w-full ">
                    <label for="motivo">Motivo de consulta</label>
                    <input id="motivo" matInput placeholder="Ingrese el motivo de la consulta">
                </mat-form-field>
                <mat-form-field class="w-full ">
                    <label for="desc">Descripcion</label>
                    <textarea id="desc" matInput rows="9.5" style="resize:none;"></textarea>
                </mat-form-field>

                <mat-form-field class="w-full ">
                    <label for="tenSis">Tensión sistólica</label>
                    <input id="tenSis" matInput placeholder="Tensión sistólica | mmHg">
                </mat-form-field>
            </div>
            <div style="width:50%;">
                <mat-form-field class="w-full px-2 ">
                    <label for="diagnostico">Diagnostico principal</label>
                    <input id="diagnostico" matInput placeholder="Diagnostico principal" type="text-">
                </mat-form-field>
                <mat-form-field class="w-full px-2 ">
                    <label for="diagnostico">Temperatura</label>
                    <input id="diagnostico" matInput placeholder="Temperatura" type="text-">
                </mat-form-field>
                <mat-form-field class="w-full px-2 ">
                    <label for="diagnostico">Altura</label>
                    <input id="diagnostico" matInput placeholder="Altura" type="text-">
                </mat-form-field>
                <mat-form-field class="w-full px-2 ">
                    <label for="diagnostico">Peso</label>
                    <input id="diagnostico" matInput placeholder="Peso" type="text-">
                </mat-form-field>
                <mat-form-field class="w-full px-2 ">
                    <label for="diagnostico">IMC</label>
                    <input id="diagnostico" matInput placeholder="IMC (peso / altura)" type="text-">
                </mat-form-field>
            </div>
        </form>
    </div>
    <div class="w-full p-2 " id="medication">
        <div class="w-full bg-primary-light text-white my-2">
            <h2 class="text-center p-5">Medicamentos</h2>
        </div>
        <button mat-raised-button color="slate-500" (click)="handleAddMedication()">Agregar medicamento</button>
    </div>
</main >
